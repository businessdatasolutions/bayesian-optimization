---
title: "🎯 Intelligent Decisions for Logistics"
subtitle: "An Introduction to Bayesian Optimization"
author: "Data Science Team"
format:
  revealjs:
    theme: white
    slide-number: true
    transition: slide
    background-transition: fade
    incremental: false
    width: 1600
    height: 900
    margin: 0.1
    min-scale: 0.2
    max-scale: 1.5
    center: true
    html-math-method: katex
    embed-resources: true
jupyter: python3
execute:
  freeze: auto
  cache: false
---
## Welcome {.center}

**Target Audience:** Medior Business Managers in Logistics  
**Duration:** 20 Minutes  
**Interactive Experience:** Click, Explore, Learn

<div style="text-align: center; font-size: 1.2em; color: #2E86AB; margin-top: 50px;">
<strong>Welcome to Smart Optimization for the Real World</strong>
</div>


## 🎯 Your Learning Journey

By the end of this session, you will:

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">

<div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #28a745;">
<h3>🎯 Identify Opportunities</h3>
<p>Spot areas where traditional 'trial and error' is too slow or expensive</p>
</div>

<div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #17a2b8;">
<h3>🚀 Get Better Results, Faster</h3>
<p>Understand how smart optimization finds solutions with fewer tests</p>
</div>

<div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ffc107;">
<h3>🗣️ Speak the Language</h3>
<p>Understand 'smart predictors' and 'decision-makers' for data science conversations</p>
</div>

<div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #dc3545;">
<h3>⚖️ Balanced Strategy</h3>
<p>Grasp why exploration vs exploitation balance drives innovation</p>
</div>

</div>

::: {.center}
*Interactive demos ahead - get ready to click and explore!*
:::

## 📋 Today's Roadmap

<div style="display: flex; align-items: center; justify-content: space-between; margin: 40px 0;">

<div style="flex: 1; text-align: center;">
<div style="background: #e3f2fd; border-radius: 50%; width: 80px; height: 80px; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 2em;">🎯</div>
<strong>The Challenge</strong><br/>
<small>2 minutes</small>
</div>

<div style="flex: 0 0 50px; text-align: center; font-size: 2em; color: #ccc;">→</div>

<div style="flex: 1; text-align: center;">
<div style="background: #f3e5f5; border-radius: 50%; width: 80px; height: 80px; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 2em;">🧠</div>
<strong>Smart Strategy</strong><br/>
<small>7 minutes</small>
</div>

<div style="flex: 0 0 50px; text-align: center; font-size: 2em; color: #ccc;">→</div>

<div style="flex: 1; text-align: center;">
<div style="background: #e8f5e8; border-radius: 50%; width: 80px; height: 80px; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 2em;">🔄</div>
<strong>The Loop</strong><br/>
<small>4 minutes</small>
</div>

<div style="flex: 0 0 50px; text-align: center; font-size: 2em; color: #ccc;">→</div>

<div style="flex: 1; text-align: center;">
<div style="background: #fff3e0; border-radius: 50%; width: 80px; height: 80px; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 2em;">🚛</div>
<strong>Real Impact</strong><br/>
<small>2 minutes</small>
</div>

</div>

::: {.center style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; margin-top: 30px;"}
## 🤖 The Problem We're Solving
In logistics, every test costs time, fuel, and money.  
**How do we find the best solutions with the fewest expensive trials?**
:::

## 🎯 The Challenge: Expensive Black-Box Problems

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 30px;">

<div>
<h2 style="color: #dc3545;">🔲 What is a "Black-Box"?</h2>
<div style="background: #f8d7da; padding: 20px; border-radius: 10px; border: 1px solid #f5c6cb;">
<p><strong>Think:</strong> New route planning software</p>
<ul>
<li>You enter settings (capacity, delivery windows)</li>
<li>It gives you an efficiency score</li>
<li>You can't see the complex calculations inside</li>
<li><strong>You only know: INPUT → OUTPUT</strong></li>
</ul>
</div>
</div>

<div>
<h2 style="color: #fd7e14;">💰 Why is Testing "Expensive"?</h2>
<div style="background: #ffeaa7; padding: 20px; border-radius: 10px; border: 1px solid #ffd93d;">
<p>Every evaluation costs:</p>
<ul>
<li><strong>Time:</strong> Weeks for pilot tests</li>
<li><strong>Money:</strong> Fuel, wages, disruptions</li>
<li><strong>Resources:</strong> Vehicles, staff, computing</li>
</ul>
<p style="margin-top: 15px; font-weight: bold; color: #d63031;">❌ You can't run millions of tests!</p>
</div>
</div>

</div>

## ⚡ The Dilemma

<div style="background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%); color: white; padding: 30px; border-radius: 15px; text-align: center; margin-top: 40px;">
<h2>⚡ The Dilemma</h2>
<p style="font-size: 1.3em; margin: 0;">
You want the <strong>best result</strong>, but testing every combination is impossible.<br/>
Random guesses are inefficient. <strong>We need a smarter strategy.</strong>
</p>
</div>

<div style="text-align: center; margin-top: 30px; font-size: 1.1em; color: #666;">
<strong>Next:</strong> How Bayesian Optimization solves this intelligently →
</div>

## 🧠 The Smart Strategy: Bayesian Optimization

<div style="text-align: center; margin: 40px 0;">
<div style="background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%); color: white; padding: 30px; border-radius: 15px;">
<h2 style="margin-top: 0;">🎭 Two Smart Components Working Together</h2>
<p style="font-size: 1.2em;">Like having an intelligent assistant that gets smarter with every test</p>
</div>
</div>

<div style="display: grid; grid-template-columns: 1fr 50px 1fr; gap: 20px; align-items: center; margin-top: 40px;">

<div style="background: #dff0d8; padding: 25px; border-radius: 15px; border: 2px solid #d6e9c6; text-align: center;">
<h3 style="color: #3c763d; margin-top: 0;">🔮 "Smart Predictor"</h3>
<p><strong>(Surrogate Model)</strong></p>
<p>Learns from your test results to predict what might happen everywhere else</p>
<p style="font-style: italic; color: #5a6c5d;">Like an experienced manager predicting route performance</p>
</div>

<div style="text-align: center; font-size: 3em; color: #a29bfe;">
⟷
</div>

<div style="background: #d9edf7; padding: 25px; border-radius: 15px; border: 2px solid #bce8f1; text-align: center;">
<h3 style="color: #31708f; margin-top: 0;">🎯 "Smart Decision Maker"</h3>
<p><strong>(Acquisition Function)</strong></p>
<p>Decides where to run your next expensive test for maximum value</p>
<p style="font-style: italic; color: #5a6c7d;">Balances exploring new areas vs improving known good areas</p>
</div>

</div>



## 🎯 Bayesian Optimization Learning Process

<div style="background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; margin-bottom: 30px;">
<h2 style="margin: 0; font-size: 1.5em;">From Uncertainty to Confidence: The Learning Journey</h2>
<p style="font-size: 1.1em; margin: 10px 0 0 0;">Watch how the Smart Predictor becomes more accurate with each test</p>
</div>

```{python}
#| echo: false
#| output: true
#| label: fig-gp-progression
#| fig-width: 11
#| fig-height: 8
#| fig-align: center
import numpy as np
import plotly.graph_objects as go
from plotly.subplots import make_subplots
from sklearn.gaussian_process import GaussianProcessRegressor
from sklearn.gaussian_process.kernels import RBF, ConstantKernel as C

def black_box_function(x):
    """The true function we're trying to optimize"""
    return np.sin(0.9 * x) * np.sinc(x * 0.2) * 50 + 25

def acquisition_function(X, X_sample, Y_sample, gpr):
    """Simple acquisition function - Expected Improvement proxy"""
    mu, sigma = gpr.predict(X, return_std=True)
    mu_sample = gpr.predict(X_sample)
    
    # Normalize for numerical stability
    mu_sample_opt = np.max(mu_sample)
    
    with np.errstate(divide='warn'):
        imp = mu - mu_sample_opt
        Z = imp / sigma
        ei = imp * norm.cdf(Z) + sigma * norm.pdf(Z)
        ei[sigma == 0.0] = 0.0
    
    return ei

# Setup
x_range = np.linspace(0, 20, 200).reshape(-1, 1)
y_true = black_box_function(x_range)

# Define sampling points for each iteration
# Start with 2 points, then add more strategically
initial_points = np.array([[2.0], [18.0]])
additional_points = [
    np.array([[10.0]]),  # 3rd point
    np.array([[5.0]]),   # 4th point
    np.array([[14.0]]),  # 5th point
    np.array([[7.5], [12.0]]),  # 6th and 7th points
]

# Create subplots
fig = make_subplots(
    rows=2, cols=2,
    subplot_titles=(
        '<b>Initial Exploration (2 samples)</b>',
        '<b>Early Learning (3 samples)</b>',
        '<b>Improving Estimate (5 samples)</b>',
        '<b>Refined Model (7 samples)</b>'
    ),
    horizontal_spacing=0.10,
    vertical_spacing=0.12
)

# Kernel for GP
kernel = C(1.0, (1e-3, 1e3)) * RBF(10, (1e-2, 1e2))

# Track sample points
X_samples = initial_points.copy()
y_samples = black_box_function(X_samples)

# Define iterations for each subplot
iterations = [0, 1, 3, 5]  # How many additional points to add
subplot_positions = [(1, 1), (1, 2), (2, 1), (2, 2)]

for idx, (n_iter, pos) in enumerate(zip(iterations, subplot_positions)):
    row, col = pos
    
    # Add additional points for this iteration
    if idx > 0:
        for i in range(iterations[idx-1], n_iter):
            if i < len(additional_points):
                X_samples = np.vstack([X_samples, additional_points[i]])
                y_samples = black_box_function(X_samples)
    
    # Fit Gaussian Process
    gp = GaussianProcessRegressor(kernel=kernel, n_restarts_optimizer=9, random_state=0, alpha=1e-6)
    gp.fit(X_samples, y_samples)
    y_pred, sigma = gp.predict(x_range, return_std=True)
    
    # True function (hidden in real scenario)
    fig.add_trace(
        go.Scatter(
            x=x_range.ravel(),
            y=y_true.ravel(),
            mode='lines',
            name='True Function',
            line=dict(color='#e74c3c', dash='dash', width=2),
            showlegend=(idx == 0),
            legendgroup='true'
        ),
        row=row, col=col
    )
    
    # GP mean prediction
    fig.add_trace(
        go.Scatter(
            x=x_range.ravel(),
            y=y_pred,
            mode='lines',
            name='GP Mean',
            line=dict(color='#2ecc71', width=2),
            showlegend=(idx == 0),
            legendgroup='mean'
        ),
        row=row, col=col
    )
    
    # Confidence interval
    fig.add_trace(
        go.Scatter(
            x=np.concatenate([x_range.ravel(), x_range.ravel()[::-1]]),
            y=np.concatenate([y_pred + 1.96*sigma, (y_pred - 1.96*sigma)[::-1]]),
            fill='toself',
            fillcolor='rgba(46,204,113,0.15)',
            line=dict(color='rgba(255,255,255,0)'),
            name='95% CI',
            showlegend=(idx == 0),
            legendgroup='ci'
        ),
        row=row, col=col
    )
    
    # Observed points
    fig.add_trace(
        go.Scatter(
            x=X_samples.ravel(),
            y=y_samples.ravel(),
            mode='markers',
            name='Samples',
            marker=dict(color='#3498db', size=10, symbol='circle', 
                       line=dict(width=2, color='white')),
            showlegend=(idx == 0),
            legendgroup='samples'
        ),
        row=row, col=col
    )
    
    # Add annotation for uncertainty measure
    avg_uncertainty = np.mean(sigma)
    fig.add_annotation(
        text=f'<b>Avg σ: {avg_uncertainty:.2f}</b>',
        xref=f'x{idx+1}',
        yref=f'y{idx+1}',
        x=18.5,
        y=72,
        showarrow=False,
        font=dict(size=11, color='#2c3e50', family='Arial, sans-serif'),
        bgcolor='rgba(255,255,255,0.95)',
        bordercolor='rgba(44,62,80,0.3)',
        borderwidth=1,
        borderpad=5
    )

# Update layout for presentation slide
fig.update_layout(
    title={
        'text': 'Bayesian Optimization: Progressive Learning of Unknown Function',
        'x': 0.5,
        'font': {'size': 20, 'family': 'Arial, sans-serif'}
    },
    height=750,
    width=1400,
    showlegend=True,
    legend=dict(
        orientation="h",
        yanchor="bottom",
        y=-0.12,
        xanchor="center",
        x=0.5,
        font=dict(size=12),
        bgcolor='rgba(255,255,255,0.9)',
        bordercolor='rgba(0,0,0,0.1)',
        borderwidth=1
    ),
    plot_bgcolor='rgba(250,250,250,1)',
    paper_bgcolor='white',
    font=dict(size=11, family='Arial, sans-serif'),
    margin=dict(l=60, r=40, t=80, b=80)
)

# Update axes
for i in range(1, 5):
    fig.update_xaxes(
        title_text='Input x' if i > 2 else '',
        title_font=dict(size=13),
        tickfont=dict(size=11),
        gridcolor='rgba(128,128,128,0.15)',
        showgrid=True,
        row=(i-1)//2 + 1,
        col=(i-1)%2 + 1
    )
    fig.update_yaxes(
        title_text='Output f(x)' if i % 2 == 1 else '',
        title_font=dict(size=13),
        tickfont=dict(size=11),
        gridcolor='rgba(128,128,128,0.15)',
        showgrid=True,
        row=(i-1)//2 + 1,
        col=(i-1)%2 + 1
    )

fig.show()
```

## 🔄 The Bayesian Optimization Loop

<div style="background: linear-gradient(135deg, #ff7675 0%, #fd79a8 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; margin-bottom: 25px;">
<h2 style="margin: 0; font-size: 1.4em;">5 Simple Steps to Smart Optimization</h2>
</div>

<div style="display: flex; align-items: stretch; gap: 25px; margin: 30px 0 20px 0;">

<div style="flex: 1; background: #fff3cd; padding: 15px; border-radius: 10px; border: 2px solid #ffc107; text-align: center;">
<div style="background: #ffc107; color: white; border-radius: 50%; width: 32px; height: 32px; margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.95em;">1</div>
<h4 style="margin: 5px 0; font-size: 1.05em;">🎯 Start</h4>
<p style="margin: 0; font-size: 0.85em;">Run initial tests</p>
</div>

<div style="flex: 0 0 40px; display: flex; align-items: center; justify-content: center; font-size: 1.6em; color: #495057; font-weight: bold;">→</div>

<div style="flex: 1; background: #d4edda; padding: 15px; border-radius: 10px; border: 2px solid #28a745; text-align: center;">
<div style="background: #28a745; color: white; border-radius: 50%; width: 32px; height: 32px; margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.95em;">2</div>
<h4 style="margin: 5px 0; font-size: 1.05em;">🔮 Predict</h4>
<p style="margin: 0; font-size: 0.85em;">Update belief</p>
</div>

<div style="flex: 0 0 40px; display: flex; align-items: center; justify-content: center; font-size: 1.6em; color: #495057; font-weight: bold;">→</div>

<div style="flex: 1; background: #d1ecf1; padding: 15px; border-radius: 10px; border: 2px solid #17a2b8; text-align: center;">
<div style="background: #17a2b8; color: white; border-radius: 50%; width: 32px; height: 32px; margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.95em;">3</div>
<h4 style="margin: 5px 0; font-size: 1.05em;">🎯 Decide</h4>
<p style="margin: 0; font-size: 0.85em;">Next test location</p>
</div>

<div style="flex: 0 0 40px; display: flex; align-items: center; justify-content: center; font-size: 1.6em; color: #495057; font-weight: bold;">→</div>

<div style="flex: 1; background: #f8d7da; padding: 15px; border-radius: 10px; border: 2px solid #dc3545; text-align: center;">
<div style="background: #dc3545; color: white; border-radius: 50%; width: 32px; height: 32px; margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.95em;">4</div>
<h4 style="margin: 5px 0; font-size: 1.05em;">🧪 Test</h4>
<p style="margin: 0; font-size: 0.85em;">Run experiment</p>
</div>

<div style="flex: 0 0 40px; display: flex; align-items: center; justify-content: center; font-size: 1.6em; color: #495057; font-weight: bold;">→</div>

<div style="flex: 1; background: #e2e3e5; padding: 15px; border-radius: 10px; border: 2px solid #6c757d; text-align: center;">
<div style="background: #6c757d; color: white; border-radius: 50%; width: 32px; height: 32px; margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.95em;">5</div>
<h4 style="margin: 5px 0; font-size: 1.05em;">🔄 Repeat</h4>
<p style="margin: 0; font-size: 0.85em;">Learn & iterate</p>
</div>

</div>

::: {style="background: #f8f9fa; padding: 25px; border-radius: 12px; border-left: 5px solid #007bff; margin-top: 180px;"}
### 💡 Key Insight
Notice how the algorithm first **explores** uncertain areas, then **exploits** promising regions to find the optimum faster than random testing!
:::

## 🚛 Real-World Impact in Logistics

<div style="background: linear-gradient(135deg, #00b894 0%, #00cec9 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; margin-bottom: 20px;">
<h2 style="margin-top: 0;">Your Competitive Advantage</h2>
<p style="font-size: 1.1em; margin: 0;">Reducing expensive trials = Efficiency + Cost Savings + Innovation</p>
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0;">

<div style="background: #fff5f5; padding: 15px; border-radius: 12px; border: 2px solid #fc8181; text-align: center;">
<div style="font-size: 2.2em; margin-bottom: 10px;">🤖</div>
<h3 style="color: #e53e3e; font-size: 1.1em; margin: 0 0 8px 0;">ML Model Optimization</h3>
<p style="font-size: 0.9em; margin: 0;">Find the best settings for demand forecasting and delivery time estimation models</p>
</div>

<div style="background: #f0fff4; padding: 15px; border-radius: 12px; border: 2px solid #68d391; text-align: center;">
<div style="font-size: 2.2em; margin-bottom: 10px;">🚚</div>
<h3 style="color: #38a169; font-size: 1.1em; margin: 0 0 8px 0;">Route Optimization</h3>
<p style="font-size: 0.9em; margin: 0;">Fine-tune vehicle routing algorithms to minimize fuel costs and delivery times</p>
</div>

<div style="background: #fffaf0; padding: 15px; border-radius: 12px; border: 2px solid #f6ad55; text-align: center;">
<div style="font-size: 2.2em; margin-bottom: 10px;">🏭</div>
<h3 style="color: #dd6b20; font-size: 1.1em; margin: 0 0 8px 0;">Warehouse Robotics</h3>
<p style="font-size: 0.9em; margin: 0;">Optimize robot movement and sorting policies using efficient simulations</p>
</div>

<div style="background: #f7faff; padding: 15px; border-radius: 12px; border: 2px solid #63b3ed; text-align: center;">
<div style="font-size: 2.2em; margin-bottom: 10px;">⛓️</div>
<h3 style="color: #3182ce; font-size: 1.1em; margin: 0 0 8px 0;">Supply Chain Design</h3>
<p style="font-size: 0.9em; margin: 0;">Find optimal distribution center locations balancing costs and service levels</p>
</div>

</div>

## 📦 The Bottom Line

::: {.center style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px;"}
When each test costs weeks and thousands of dollars,  
**smart optimization isn't just nice to have—it's essential for staying competitive**
:::

## 🎯 Key Takeaways & Next Steps

<div style="background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; margin-bottom: 25px;">
<h1 style="margin-top: 0;">🧠 What You've Learned</h1>
<p style="font-size: 1.15em; margin: 0;">Bayesian Optimization = Smart Predictions + Intelligent Decisions</p>
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin: 20px 0;">

<div>
<h2 style="color: #2d3436; font-size: 1.3em;">🎉 Key Takeaways</h2>
<div style="background: #dff0d8; padding: 15px; border-radius: 10px; border-left: 5px solid #5cb85c;">
<ul style="font-size: 0.95em; line-height: 1.6; margin: 0; padding-left: 15px;">
<li><strong>Smart Strategy:</strong> BO combines predictions with intelligent decision-making</li>
<li><strong>Efficient Testing:</strong> Finds optimal solutions with fewer expensive trials</li>
<li><strong>Balanced Approach:</strong> Explores new areas while exploiting known good ones</li>
<li><strong>Real Impact:</strong> Significant efficiency gains and cost savings</li>
</ul>
</div>
</div>

<div>
<h2 style="color: #2d3436; font-size: 1.3em;">🚀 Your Next Steps</h2>
<div style="background: #d9edf7; padding: 15px; border-radius: 10px; border-left: 5px solid #5bc0de;">
<ol style="font-size: 0.95em; line-height: 1.6; margin: 0; padding-left: 15px;">
<li><strong>Identify Opportunities:</strong> Look for expensive trial-and-error processes</li>
<li><strong>Engage Teams:</strong> Talk to your data science/R&D teams</li>
<li><strong>Start Small:</strong> Pilot with one high-impact optimization problem</li>
<li><strong>Measure Results:</strong> Track efficiency gains and cost savings</li>
</ol>
</div>
</div>

</div>

## 🎤 Questions & Discussion

::: {style="background: #f8f9fa; padding: 30px; border-radius: 15px; border: 2px solid #28a745;"}
🎤

Ready to explore how Bayesian Optimization can transform your logistics operations?  
**Let's discuss your specific challenges and opportunities!**
:::

## 🙏 Thank You! {.center}

::: {.center style="padding: 40px; background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); color: white; border-radius: 15px;"}
**Contact Information**  
Your Data Science Team | your-team@company.com

*Generated with Bayesian Optimization interactive demos*
:::

